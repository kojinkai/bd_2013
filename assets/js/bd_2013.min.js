/*! bd_2013 20-07-2013 */
!function(a,b){function c(b,c){this.element=b,this.options=a.extend({},e,c),this._defaults=e,this._name=d,this.init()}var d="backfill",e={offset:!1};c.prototype={init:function(){var c=(this.options,this.options.offset),d=/\d+/,e=parseInt(a(this.element).css("paddingTop").match(d)[0],10),f=parseInt(a(this.element).css("paddingBottom").match(d)[0],10),g=this.sum(e,f);c+=g;var h=this;a(b).on("load resize",function(){var d=a(b).height()-c;h.resize(h.element,d)})},resize:function(b,c){a(b).height(c)},sum:function(){function a(a){return!isNaN(parseFloat(a))&&isFinite(a)}var b=0,c=arguments,d=0;for(b;b<c.length;b++)a(c[b])&&(d+=c[b]);return d},hasOptions:function(){var a,b=this.options;for(a in b)if(b[a])return!0;return!1}},a.fn[d]=function(a){return this.each(function(){new c(this,a)})}}(jQuery,window,document),jQuery.fn.dataAttr=function(a,b){return b?this.attr("data-"+a,b):this.attr("data-"+a)},function(a,b,c){function d(b,c){this.element=b,this.options=a.extend({},f,c),this._defaults=f,this._name=e,this.init(),this.toggle()}var e="dropmenu",f={propertyName:"value"};d.prototype={init:function(){this.child=a(this.element).find(".navigation"),this.child.height=this.getHeight(this.child)},getHeight:function(b){return b?a(b).height():void 0},toggle:function(){this[a(this.element).hasClass(this.options.toggle)?"show":"hide"]()},hide:function(){a(this.element).addClass(this.options.toggle).height(0)},show:function(){a(this.element).removeClass(this.options.toggle).height(this.child.height)}},a.fn[e]=function(a){return this.each(function(){new d(this,a)})},a(c).on("click.dropmenu.data-api","[data-toggle=collapsed]",function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=d.data();a(e).dropmenu(f)})}(jQuery,window,document),function(a){function b(a){return"object"==typeof a?a:{top:a,left:a}}var c=a.scrollTo=function(b,c,d){a(window).scrollTo(b,c,d)};c.defaults={axis:"xy",duration:parseFloat(a.fn.jquery)>=1.3?0:1,limit:!0},c.window=function(){return a(window)._scrollable()},a.fn._scrollable=function(){return this.map(function(){var b=this,c=!b.nodeName||-1!=a.inArray(b.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!c)return b;var d=(b.contentWindow||b).document||b.ownerDocument||b;return/webkit/i.test(navigator.userAgent)||"BackCompat"==d.compatMode?d.body:d.documentElement})},a.fn.scrollTo=function(d,e,f){return"object"==typeof e&&(f=e,e=0),"function"==typeof f&&(f={onAfter:f}),"max"==d&&(d=9e9),f=a.extend({},c.defaults,f),e=e||f.duration,f.queue=f.queue&&f.axis.length>1,f.queue&&(e/=2),f.offset=b(f.offset),f.over=b(f.over),this._scrollable().each(function(){function g(a){j.animate(l,e,f.easing,a&&function(){a.call(this,k,f)})}if(null!=d){var h,i=this,j=a(i),k=d,l={},m=j.is("html,body");switch(typeof k){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(k)){k=b(k);break}if(k=a(k,this),!k.length)return;case"object":(k.is||k.style)&&(h=(k=a(k)).offset())}a.each(f.axis.split(""),function(a,b){var d="x"==b?"Left":"Top",e=d.toLowerCase(),n="scroll"+d,o=i[n],p=c.max(i,b);if(h)l[n]=h[e]+(m?0:o-j.offset()[e]),f.margin&&(l[n]-=parseInt(k.css("margin"+d))||0,l[n]-=parseInt(k.css("border"+d+"Width"))||0),l[n]+=f.offset[e]||0,f.over[e]&&(l[n]+=k["x"==b?"width":"height"]()*f.over[e]);else{var q=k[e];l[n]=q.slice&&"%"==q.slice(-1)?parseFloat(q)/100*p:q}f.limit&&/^\d+$/.test(l[n])&&(l[n]=l[n]<=0?0:Math.min(l[n],p)),!a&&f.queue&&(o!=l[n]&&g(f.onAfterFirst),delete l[n])}),g(f.onAfter)}}).end()},c.max=function(b,c){var d="x"==c?"Width":"Height",e="scroll"+d;if(!a(b).is("html,body"))return b[e]-a(b)[d.toLowerCase()]();var f="client"+d,g=b.ownerDocument.documentElement,h=b.ownerDocument.body;return Math.max(g[e],h[e])-Math.min(g[f],h[f])}}(jQuery),function(a){a.fn.scrollover=function(b){function c(){f>0?e.addClass(d.classname):e.removeClass(d.classname)}var d={classname:"scrolled",onScrollStart:function(){}};a.extend(d,b);var e=a(this),f=(e.height(),e.scrollTop());return a(window).on("scroll",function(){d.onScrollStart(),f=a(this).scrollTop(),c()}),this}}(jQuery),function(a){var b=a(".navbar"),c=b.height();a(".waypoint"),a("[data-scroll-target]").last(),a(".navigation").scrollover(),a(".waypoint").backfill({offset:c}),a(document).on("click.scrollTo.data-api","[data-scroll-target]",function(b){b.preventDefault();var d=this,e=a(d).dataAttr("scroll-target");a.scrollTo(e,{offset:{top:-c,left:0},duration:800})}),a("#page-wrap").removeClass("unstaged")}(jQuery);